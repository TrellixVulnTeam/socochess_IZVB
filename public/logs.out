user landed at main page
	Got date as: 12/7/2021
node:internal/process/promises:246
          triggerUncaughtException(err, true /* fromPromise */);
          ^

Error: read ECONNRESET
    at TCP.onStreamRead (node:internal/stream_base_commons:211:20)
    --------------------
    at Protocol._enqueue (/site/node_modules/mysql/lib/protocol/Protocol.js:144:48)
    at Connection.query (/site/node_modules/mysql/lib/Connection.js:198:25)
    at /site/public/index.js:24:29
    at new Promise (<anonymous>)
    at Database.query (/site/public/index.js:23:16)
    at /site/public/index.js:83:34
    at Layer.handle [as handle_request] (/site/node_modules/express/lib/router/layer.js:95:5)
    at next (/site/node_modules/express/lib/router/route.js:137:13)
    at complete (/site/node_modules/passport/lib/middleware/authenticate.js:262:13)
    at /site/node_modules/passport/lib/middleware/authenticate.js:269:15 {
  errno: -104,
  code: 'ECONNRESET',
  syscall: 'read',
  fatal: true
}
Listening on port 8080
started client interval
stopping client interval
started client interval
results:  [
  RowDataPacket { id: '102529385419432018835' },
  RowDataPacket { id: '103536252863176027845' },
  RowDataPacket { id: '107879837498659944124' },
  RowDataPacket { id: '111144268931321206696' },
  RowDataPacket { id: '113930444875722482780' },
  RowDataPacket { id: '116264767626572588517' },
  RowDataPacket { id: '116802352623575326776' },
  RowDataPacket { id: '117221126572007818423' }
]
102529385419432018835  ---  111144268931321206696
103536252863176027845  ---  111144268931321206696
107879837498659944124  ---  111144268931321206696
111144268931321206696  ---  111144268931321206696
user landed at main page
	Got date as: 12/7/2021
started client interval
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
started client interval
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
started client interval
stopping client interval
stopping client interval
started client interval
Listening on port 8080
started client interval
results:  [
  RowDataPacket { id: '102529385419432018835' },
  RowDataPacket { id: '103536252863176027845' },
  RowDataPacket { id: '107879837498659944124' },
  RowDataPacket { id: '111144268931321206696' },
  RowDataPacket { id: '113930444875722482780' },
  RowDataPacket { id: '116264767626572588517' },
  RowDataPacket { id: '116802352623575326776' },
  RowDataPacket { id: '117221126572007818423' }
]
102529385419432018835  ---  111144268931321206696
103536252863176027845  ---  111144268931321206696
107879837498659944124  ---  111144268931321206696
111144268931321206696  ---  111144268931321206696
/site/public/index.js:101
    if (newUser){
    ^

ReferenceError: newUser is not defined
    at /site/public/index.js:101:5
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
Listening on port 8080
Listening on port 8080
TokenError: Bad Request
    at Strategy.OAuth2Strategy.parseErrorResponse (/site/node_modules/passport-oauth2/lib/strategy.js:373:12)
    at Strategy.OAuth2Strategy._createOAuthError (/site/node_modules/passport-oauth2/lib/strategy.js:420:16)
    at /site/node_modules/passport-oauth2/lib/strategy.js:177:45
    at /site/node_modules/oauth/lib/oauth2.js:191:18
    at passBackControl (/site/node_modules/oauth/lib/oauth2.js:132:9)
    at IncomingMessage.<anonymous> (/site/node_modules/oauth/lib/oauth2.js:157:7)
    at IncomingMessage.emit (node:events:377:35)
    at endReadableNT (node:internal/streams/readable:1312:12)
    at processTicksAndRejections (node:internal/process/task_queues:83:21)
started client interval
user landed at main page
	Got date as: 12/7/2021
started client interval
results:  [
  RowDataPacket { id: '102529385419432018835' },
  RowDataPacket { id: '103536252863176027845' },
  RowDataPacket { id: '107879837498659944124' },
  RowDataPacket { id: '111144268931321206696' },
  RowDataPacket { id: '113930444875722482780' },
  RowDataPacket { id: '116264767626572588517' },
  RowDataPacket { id: '116802352623575326776' },
  RowDataPacket { id: '117221126572007818423' }
]
102529385419432018835  ---  111144268931321206696
103536252863176027845  ---  111144268931321206696
107879837498659944124  ---  111144268931321206696
111144268931321206696  ---  111144268931321206696
user landed at main page
	Got date as: 12/7/2021
stopping client interval
started client interval
user landed at main page
	Got date as: 12/7/2021
stopping client interval
started client interval
<Buffer 7b 22 6d 65 73 73 61 67 65 22 3a 22 72 65 71 75 65 73 74 5f 6d 6f 76 65 5f 31 22 2c 22 70 67 6e 22 3a 22 31 2e 20 65 34 22 2c 22 66 65 6e 22 3a 22 72 ... 60 more bytes>
BRUHHHH---  {"message":"request_move_1","pgn":"1. e4","fen":"rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1"}
{
  message: 'request_move_1',
  pgn: '1. e4',
  fen: 'rnbqkbnr/pppppppp/8/8/4P3/8/PPPP1PPP/RNBQKBNR b KQkq e3 0 1'
}
DAT= c7c5

-----
[object Object]
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
started client interval
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
started client interval
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
started client interval
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
started client interval
stopping client interval
stopping client interval
started client interval
started client interval
stopping client interval
started client interval
stopping client interval
stopping client interval
started client interval
/site/public/index.js:173
                        let userData = await database.query("SELECT data FROM chess_players WHERE id=\'"+req.user+"\'")
                                       ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at Object.compileFunction (node:vm:355:18)
    at wrapSafe (node:internal/modules/cjs/loader:1039:15)
    at Module._compile (node:internal/modules/cjs/loader:1073:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1138:10)
    at Module.load (node:internal/modules/cjs/loader:989:32)
    at Function.Module._load (node:internal/modules/cjs/loader:829:14)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
    at node:internal/main/run_main_module:17:47
/site/public/index.js:173
                        let userData = await database.query("SELECT data FROM chess_players WHERE id=\'"+req.user+"\'")
                                       ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at Object.compileFunction (node:vm:355:18)
    at wrapSafe (node:internal/modules/cjs/loader:1039:15)
    at Module._compile (node:internal/modules/cjs/loader:1073:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1138:10)
    at Module.load (node:internal/modules/cjs/loader:989:32)
    at Function.Module._load (node:internal/modules/cjs/loader:829:14)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
    at node:internal/main/run_main_module:17:47
/site/public/index.js:173
                        let userData = await database.query("SELECT data FROM chess_players WHERE id=\'"+req.user+"\'")
                                       ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at Object.compileFunction (node:vm:355:18)
    at wrapSafe (node:internal/modules/cjs/loader:1039:15)
    at Module._compile (node:internal/modules/cjs/loader:1073:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1138:10)
    at Module.load (node:internal/modules/cjs/loader:989:32)
    at Function.Module._load (node:internal/modules/cjs/loader:829:14)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
    at node:internal/main/run_main_module:17:47
/site/public/index.js:173
                        let userData = await database.query("SELECT data FROM chess_players WHERE id=\'"+req.user+"\'")
                                       ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at Object.compileFunction (node:vm:355:18)
    at wrapSafe (node:internal/modules/cjs/loader:1039:15)
    at Module._compile (node:internal/modules/cjs/loader:1073:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1138:10)
    at Module.load (node:internal/modules/cjs/loader:989:32)
    at Function.Module._load (node:internal/modules/cjs/loader:829:14)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
    at node:internal/main/run_main_module:17:47
/site/public/index.js:173
                        let userData = await database.query("SELECT data FROM chess_players WHERE id=\'"+req.user+"\'")
                                       ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at Object.compileFunction (node:vm:355:18)
    at wrapSafe (node:internal/modules/cjs/loader:1039:15)
    at Module._compile (node:internal/modules/cjs/loader:1073:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1138:10)
    at Module.load (node:internal/modules/cjs/loader:989:32)
    at Function.Module._load (node:internal/modules/cjs/loader:829:14)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
    at node:internal/main/run_main_module:17:47
/site/public/index.js:173
                        let userData = await database.query("SELECT data FROM chess_players WHERE id=\'"+req.user+"\'")
                                       ^^^^^

SyntaxError: await is only valid in async functions and the top level bodies of modules
    at Object.compileFunction (node:vm:355:18)
    at wrapSafe (node:internal/modules/cjs/loader:1039:15)
    at Module._compile (node:internal/modules/cjs/loader:1073:27)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1138:10)
    at Module.load (node:internal/modules/cjs/loader:989:32)
    at Function.Module._load (node:internal/modules/cjs/loader:829:14)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:76:12)
    at node:internal/main/run_main_module:17:47
